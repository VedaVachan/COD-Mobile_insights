<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Multiplayer Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Plotly CDN -->
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <!-- PapaParse for CSV upload -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- ===== Profile hero (MUST BE FIRST) ===== -->
  <section id="profileHero" class="profile-hero card">
    <div class="profile-left">
      <div class="avatar-wrap">
        <img src="assets/avatar.jpg" alt="Player avatar" id="playerAvatar" />
        <div class="level-badge">LV.10</div>
      </div>
      <div class="player-meta">
        <h2 id="playerName">Veda</h2>
        <div class="subline">TeluguCodmFamily ‚Ä¢ <span id="uid">UID: 7015‚Ä¢‚Ä¢‚Ä¢‚Ä¢8881</span></div>

        <div class="stat-row">
          <div class="stat">
            <div class="stat-value" id="topWins">400</div>
            <div class="stat-label">Likes</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="topMVP">79</div>
            <div class="stat-label">Tier</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="topBadge">8</div>
            <div class="stat-label">Season Rank</div>
          </div>
        </div>

        <div class="profile-actions">
          <button id="btnOverview" class="btn-primary">Overview</button>
          <button id="btnMatches" class="btn-outline">Matches</button>
          <button id="btnPlans" class="btn-outline">Plans</button>
        </div>
      </div>
    </div>

    <div class="profile-right">
      <div class="card big-stats">
        <div class="big-stat">
          <div class="big-value" id="bigKDA">K/D/A 1.37</div>
          <div class="big-sub">Avg Kills 7.4 ‚Ä¢ Win 40%</div>
        </div>
        <div class="small-actions">
          <button id="btnExport" class="btn-small">Export</button>
          <button id="btnUpload" class="btn-small">Upload Game Card</button>
        </div>
      </div>
      <div class="recent-cards">
        <div class="small-card">Weapon: BP50</div>
        <div class="small-card">Top Map: Summit</div>
      </div>
    </div>
  </section>

  <!-- Multiplayer overview + weapons -->
  <section id="mpOverview" class="mp-overview card container">
    <div class="mp-stats">
      <div class="mp-stat">
        <div class="mp-icon">‚≠ê</div>
        <div class="mp-value" id="mpMVP">1445</div>
        <div class="mp-label">MVP</div>
      </div>
      <div class="mp-stat">
        <div class="mp-icon">üìÖ</div>
        <div class="mp-value" id="mpGames">7349</div>
        <div class="mp-label">Games</div>
      </div>
      <div class="mp-stat">
        <div class="mp-icon">üèÜ</div>
        <div class="mp-value" id="mpTop3">3194</div>
        <div class="mp-label">Top 3</div>
      </div>
      <div class="mp-stat">
        <div class="mp-icon">üî´</div>
        <div class="mp-value" id="mpKills">67722</div>
        <div class="mp-label">Kills</div>
      </div>
      <div class="mp-stat">
        <div class="mp-icon">‚öñÔ∏è</div>
        <div class="mp-value" id="mpKD">1.56</div>
        <div class="mp-label">K/D</div>
      </div>
      <div class="mp-stat">
        <div class="mp-icon">üéØ</div>
        <div class="mp-value" id="mpAcc">16.02%</div>
        <div class="mp-label">Avg Accuracy</div>
      </div>
    </div>

    <div class="weapons-header">
      <h3>Weapon Collection (Mythic & Legendary)</h3>
      <div class="weapons-actions">
        <button id="showAllWeapons" class="btn-small">Show All</button>
        <button id="filterMythic" class="btn-small">Mythic</button>
        <button id="filterLegend" class="btn-small">Legendary</button>
      </div>
    </div>

    <div id="weaponsGrid" class="weapons-grid"></div>
  </section>

  <!-- Weapon modal (hidden) -->
  <div id="weaponModal" class="weapon-modal" aria-hidden="true">
    <div class="weapon-modal-backdrop"></div>
    <div class="weapon-modal-card">
      <button id="weaponModalClose" class="modal-close">&times;</button>
      <img id="weaponModalImg" src="" alt="weapon" />
      <div class="weapon-modal-info">
        <h4 id="weaponModalName"></h4>
        <div id="weaponModalRarity" class="rarity-badge"></div>
        <p id="weaponModalDesc"></p>
      </div>
    </div>
  </div>

  <!-- ===== Dashboard content (charts, timeline) ===== -->
  <section id="dashboardSection" class="container">

    <div class="header">
      <div>
        <h1>Multiplayer Analytics</h1>
        <p class="muted">Demo ‚Äî HTML + Plotly (GitHub Pages)</p>
      </div>
      <div class="controls">
        <input id="csvFile" type="file" accept=".csv" style="display:none" />
        <button id="uploadBtn" class="controls-btn">Upload CSV</button>
        <button id="refreshBtn" class="controls-btn">Refresh</button>
      </div>
    </div>

    <section id="summary" class="grid summary-cards"></section>

    <section class="grid two-col">
      <div class="card" id="killsTrend"></div>
      <div class="card" id="accuracyTrend"></div>
    </section>

    <section class="grid two-col">
      <div class="card" id="scoreImpact"></div>
      <div class="card" id="kdDist"></div>
    </section>

    <section class="grid two-col">
      <div class="card" id="mapPerf"></div>
      <div class="card timeline-card">
        <h3>Match Timeline</h3>
        <div id="timeline" class="timeline"></div>
      </div>
    </section>

    <footer class="muted">Data: static JSON (docs/data/matches.json) ‚Äî or upload CSV using the button.</footer>
  </section>

  <script src="main.js"></script>
</body>
</html>
